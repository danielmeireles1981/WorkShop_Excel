{% extends 'base.html' %}
{% block content %}
<h2>ğŸ“ˆ Fase 2 â€” Etapa 3: GrÃ¡ficos & Indicadores Visuais</h2>

<!-- âœ¨ abertura motivacional -->
<section class="bloco teoria destaque">
  <h3>âœ¨ FaÃ§a seus nÃºmeros falarem</h3>
  <p>GrÃ¡ficos e indicadores transformam dados em <strong>histÃ³rias visuais</strong>. Nesta etapa vocÃª vai criar
     painÃ©is claros e bonitos a partir dos KPIs da Etapa 2 â€” prontos para apresentaÃ§Ã£o e tomada de decisÃ£o.</p>

  <div class="grid-2">
    <div>
      <h4>ğŸ¯ Objetivos da etapa</h4>
      <ul class="check">
        <li>Escolher o <strong>grÃ¡fico certo</strong> para cada pergunta.</li>
        <li>Criar visualizaÃ§Ãµes de <strong>Receitas x Despesas</strong> e <strong>EvoluÃ§Ã£o do Saldo</strong>.</li>
        <li>Usar <strong>indicadores visuais</strong> (barras de dados, Ã­cones, â€œsemi-velocÃ­metroâ€).</li>
      </ul>
    </div>
    <div>
      <h4>ğŸ¨ Paleta & boas prÃ¡ticas</h4>
      <ul class="tips">
        <li>Verde = receitas, Vermelho = despesas, Azul = saldo.</li>
        <li>Evite 3D e rÃ³tulos em excesso; destaque apenas o essencial.</li>
        <li>TÃ­tulo que responda â€œo quÃª + quando + ondeâ€.</li>
      </ul>
    </div>
  </div>
</section>

<!-- ğŸ“˜ teoria express -->
<section class="bloco teoria">
  <h3>ğŸ“˜ Quando usar cada tipo de grÃ¡fico</h3>
  <div class="grid-2">
    <div>
      <ul class="code-bullets">
        <li>ğŸ“Š Colunas: comparar valores entre categorias (ex.: despesas por categoria no mÃªs).</li>
        <li>ğŸ“ˆ Linha: tendÃªncia no tempo (ex.: saldo mensal).</li>
        <li>ğŸ¥§ Pizza/rosca: participaÃ§Ã£o percentual quando hÃ¡ <em>poucas</em> categorias.</li>
        <li>ğŸ“¶ Barras de dados (formataÃ§Ã£o condicional): ranking simples direto na tabela.</li>
      </ul>
      <p class="hint">Use segmentaÃ§Ã£o por <strong>MÃªs</strong> e seletores (cÃ©lulas) para grÃ¡ficos â€œinterativosâ€.</p>
    </div>
    <div class="callout info">
      <strong>Checklist de legibilidade</strong>
      <ul>
        <li>TÃ­tulos claros + rÃ³tulos quando necessÃ¡rio.</li>
        <li>Legenda curta; semÃ¢ntica de cores consistente.</li>
        <li>Eixo Y comeÃ§ando em 0 (para colunas/barras).</li>
      </ul>
    </div>
  </div>
</section>

<!-- ğŸ§  exemplo guiado -->
<section class="bloco exemplo">
  <h3>ğŸ§  Exemplo guiado: â€œPainel Visual do MÃªsâ€</h3>
  <p>Partindo dos KPIs e da tabela â€œResumo por Categoriaâ€ da Etapa 2 (com <em>MÃªs Selecionado</em> em <code>H1</code>):</p>

  <div class="grid-2">
    <div>
      <h4>1) Colunas â€” Despesas por Categoria (mÃªs)</h4>
      <ol>
        <li>Selecione a pequena tabela <em>Categoria x Total</em> (somada com <code>SOMASES</code>).</li>
        <li>Inserir â†’ <strong>Colunas agrupadas</strong>.</li>
        <li>Cor das colunas: vermelho; tÃ­tulo â€œDespesas por Categoria â€” {{ user.username }} ({{ user.profile.avatar }})â€.</li>
      </ol>

      <h4>2) Linha â€” EvoluÃ§Ã£o do Saldo</h4>
      <ol>
        <li>Monte tabela <em>MÃªs x Saldo</em> (Saldo = Receitas âˆ’ Despesas por mÃªs).</li>
        <li>Inserir â†’ <strong>GrÃ¡fico de linhas</strong>.</li>
        <li>Marque pontos de mÃ¡ximo e mÃ­nimo (formataÃ§Ã£o de dados).</li>
      </ol>
    </div>

    <div>
      <h4>3) Colunas agrupadas â€” Receitas x Despesas (mÃªs)</h4>
      <ol>
        <li>Tabela com 2 colunas: Receitas_mÃªs e Despesas_mÃªs.</li>
        <li>Inserir â†’ <strong>Colunas agrupadas</strong>.</li>
        <li>Cor: verde para Receitas, vermelho para Despesas; rÃ³tulos de dados ligados.</li>
      </ol>

      <div class="callout success">
        <strong>Indicadores rÃ¡pidos na prÃ³pria tabela</strong><br>
        FormataÃ§Ã£o Condicional â†’ Barras de Dados (Valor de despesa) e Conjunto de Ãcones
        (Saldo: âœ… &gt;= 0, âš ï¸ &lt; 0).
      </div>
    </div>
  </div>
</section>

<!-- ğŸ’ª desafio gamificado -->
<section class="bloco desafio">
  <h3>ğŸ’ª MÃ£o na massa: â€œMini-Dashboard Visualâ€</h3>
  <p>Crie um painel com 4 blocos, todos respondendo ao <strong>MÃªs Selecionado</strong> (H1):</p>

  <div class="grid-2">
    <div>
      <h4>ğŸ“Œ Blocos obrigatÃ³rios</h4>
      <ul class="plain">
        <li><strong>Receitas x Despesas (colunas)</strong> â€” com rÃ³tulos.</li>
        <li><strong>Despesas por Categoria (colunas)</strong> â€” top 5, ordene do maior ao menor.</li>
        <li><strong>EvoluÃ§Ã£o do Saldo (linha)</strong> â€” Ãºltimos 6 meses.</li>
        <li><strong>Indicador de Status</strong> â€” cÃ©lula que exibe â€œExcelente/Ok/AtenÃ§Ã£oâ€ com base no saldo do mÃªs:<br>
          <code>=SE(Saldo_Mes>=500;"Excelente";SE(Saldo_Mes>=0;"Ok";"AtenÃ§Ã£o"))</code></li>
      </ul>
    </div>

    <div>
      <h4>ğŸš¦ Regras visuais</h4>
      <ul class="plain">
        <li>Saldo &lt; 0 â†’ cor de atenÃ§Ã£o no cartÃ£o do saldo.</li>
        <li>Categoria lÃ­der com destaque (borda + rÃ³tulo em negrito).</li>
        <li>Use tÃ­tulos que contem a histÃ³ria (â€œSaldo se recupera apÃ³sâ€¦â€, â€œAlimentaÃ§Ã£o domina o mÃªsâ€).</li>
      </ul>

      <div class="callout warning">
        <strong>Qualidade do dado</strong><br>
        Se algo nÃ£o fizer sentido, revise a base (Etapa 1) e os KPIs (Etapa 2).
      </div>
    </div>
  </div>

  <div class="badges">
    <span class="badge">ğŸ… Storytelling Visual</span>
    <span class="badge">ğŸ“Š GrÃ¡fico Adequado</span>
    <span class="badge">ğŸš¦ SemÃ¡foro Claro</span>
  </div>
</section>

<!-- ğŸï¸ modo turbo -->
<section class="bloco extra">
  <h3>ğŸï¸ Modo Turbo (opcional)</h3>
  <div class="grid-2">
    <div class="callout info">
      <strong>â€œSemi-velocÃ­metroâ€ com Rosca</strong><br>
      Crie 2 sÃ©ries em rosca (Meta e Progresso) e sobreponha:
      <ol>
        <li>Monte cÃ©lulas: <em>Meta</em> (ex.: 100%) e <em>Progresso</em> (ex.: 62%).</li>
        <li>Insira 2 grÃ¡ficos de rosca; ajuste Ã¢ngulo inicial 270Â°, tamanho de fatias e cores.</li>
        <li>Centralize um rÃ³tulo com <strong>Progresso%</strong>. Resultado: um gauge simples e elegante.</li>
      </ol>
    </div>
    <div class="callout info">
      <strong>Sparklines (tendÃªncia dentro da cÃ©lula)</strong><br>
      Inserir â†’ <em>GrÃ¡ficos de Linha em CÃ©lula</em> (Sparklines) usando a sÃ©rie de saldos mensais.
      Perfeito para mostrar tendÃªncia em 1 linha por categoria.
    </div>
  </div>
</section>

<!-- âœ… checklist -->
<section class="bloco teoria">
  <h3>âœ… Checklist â€” pronto para a Etapa Final?</h3>
  <ul class="check">
    <li>Tenho ao menos 3 grÃ¡ficos: Colunas (Categorias), Colunas (Receitas x Despesas), Linha (Saldo).</li>
    <li>Indicadores visuais (barras/Ã­cones) aplicados nas tabelas.</li>
    <li>Painel responde ao â€œMÃªs Selecionadoâ€.</li>
    <li>TÃ­tulos contam a histÃ³ria do dado.</li>
  </ul>
  <p class="hint">Com o painel visual pronto, seguimos para a <strong>Etapa Final</strong>: consolidar, refletir e preparar sua apresentaÃ§Ã£o! ğŸ¤</p>
</section>

<a href="{% url 'fase2_final' %}" class="btn-next">Ir para Etapa Final â¡ï¸</a>
{% endblock %}
